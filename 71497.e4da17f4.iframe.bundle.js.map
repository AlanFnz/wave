{"version":3,"file":"71497.e4da17f4.iframe.bundle.js","mappings":";AAiCA;;;;ACkBA;;AAEA;AACA;AACA;AAjDA;;;;;;AAwDA;;;AAGA;;;AAGA;AACA;;;;;AAKA;;;;;;;;AAQA;;;;AC1EA;AAGA;;;;;;;;;AANA;AAAA;AAAA;;ACGA;AACA;;AAEA;AACA;;AAIA;AA2BA;AACA;AACA;AAfA;AAiBA;AACA;;;AAMA;;AAEA;AACA;;;;;;;;AAQA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;;;ACnEA;;AAEA;AACA;AAGA;AAmBA;;ACzBA;AACA;AACA;AAGA;;AAkBA;ACxBA;AACA;AACA;;AAEA;AACA;;AAIA;AA2BA;AACA;AACA;AAfA;AAiBA;;;AAGA;;AAEA;AACA;;;;;;;;AAQA;AACA;;;;;AAKA;AACA;AACA;AACA;;;;;;;;AC1DA;;;;;ACQA;;;;;;;;ACpBA;;AD8BA;AACA;AAKA;;;;;;;;;;;;;;AEfA;;;;ADrBA;;AC6CA;;ACzBA;;;;AAIA;AACA;;;AAKA;;AAEA;;AAQA;;;;AAIA;AAEA;AACA;;AAIA;;;;AAIA;;;;;;;;;;;;;;;;;;AAkBA;;;;AAgEA;ACzFA;AAuBA;AACA;;;;AAIA","sources":["webpack://@freenow/wave/./src/components/Box/Box.tsx","webpack://@freenow/wave/./src/components/Input/BaseInput.ts","webpack://@freenow/wave/./src/components/Input/BaseInputLabel.tsx","webpack://@freenow/wave/./src/components/Input/BoxedInput.ts","webpack://@freenow/wave/./src/components/Input/BoxedInputLabel.ts","webpack://@freenow/wave/./src/components/Input/BottomLinedInputLabel.ts","webpack://@freenow/wave/./src/components/Input/BottomLinedInput.ts","webpack://@freenow/wave/./src/components/Input/InputWrapper.ts","webpack://@freenow/wave/./src/components/Password/ToggleButton.ts","webpack://@freenow/wave/./src/components/Password/constants.ts","webpack://@freenow/wave/./src/components/Password/Password.tsx","webpack://@freenow/wave/./src/components/Search/Search.tsx","webpack://@freenow/wave/./src/components/Text/Text.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport {\n    background,\n    BackgroundProps,\n    color,\n    ColorProps,\n    compose,\n    flexbox,\n    FlexboxProps,\n    grid,\n    GridProps,\n    layout,\n    LayoutProps,\n    position,\n    PositionProps,\n    space,\n    SpaceProps,\n    textAlign,\n    TextAlignProps\n} from 'styled-system';\nimport { theme } from '../../essentials/theme';\n\ninterface BoxProps\n    extends SpaceProps,\n        LayoutProps,\n        PositionProps,\n        Omit<ColorProps, 'color'>, // HACK: avoid collision of `color` prop\n        FlexboxProps,\n        GridProps,\n        BackgroundProps,\n        TextAlignProps {}\n\nconst Box = styled.div.attrs({ theme })<BoxProps>`\n    ${compose(space, layout, position, color, flexbox, grid, background, textAlign)}\n`;\n\nexport { Box, BoxProps };\n","import styled from 'styled-components';\nimport { compose, variant, width } from 'styled-system';\nimport { Colors } from '../../essentials';\nimport { get } from '../../utils/themeGet';\nimport { InputProps } from './InputProps';\n\nconst ANIMATION_DURATION = 100;\n\ninterface InternalInputComponentProps extends Omit<InputProps, 'label'> {\n    hasValue?: boolean;\n}\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            fontSize: get('fontSizes.1')\n        },\n        medium: {\n            fontSize: get('fontSizes.2')\n        }\n    }\n});\n\nconst inputVariants = variant({\n    variants: {\n        boxed: {\n            borderRadius: get('radii.2'),\n            border: `0.0625rem solid ${Colors.AUTHENTIC_BLUE_200}`,\n            '&:active, &:focus': {\n                borderColor: Colors.ACTION_BLUE_900,\n                boxShadow: `inset 0 0 0 0.0625rem ${Colors.ACTION_BLUE_900}`\n            }\n        },\n        'bottom-lined': {\n            border: 'none',\n            borderTopLeftRadius: get('radii.1'),\n            borderTopRightRadius: get('radii.1'),\n            borderBottom: `0.0625rem solid ${Colors.AUTHENTIC_BLUE_200}`,\n\n            '&:active, &:focus': {\n                borderColor: Colors.ACTION_BLUE_900,\n                boxShadow: `inset 0 -0.0625rem 0 0 ${Colors.ACTION_BLUE_900}`\n            }\n        }\n    }\n});\n\nconst BaseInput = styled.input<InternalInputComponentProps>`\n    margin: 0;\n    box-sizing: border-box;\n    background: ${p => (p.inverted ? 'transparent' : Colors.WHITE)};\n    border-radius: 0;\n    color: ${p => (p.inverted ? Colors.WHITE : Colors.AUTHENTIC_BLUE_900)};\n    font-size: ${get('fontSizes.2')};\n    font-family: ${get('fonts.normal')};\n    transition: box-shadow ${ANIMATION_DURATION}ms, border ${ANIMATION_DURATION}ms;\n    outline: none;\n    appearance: none;\n    width: 100%;\n\n    &::placeholder {\n        color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_200 : Colors.AUTHENTIC_BLUE_350)};\n    }\n\n    ${compose(width, sizeVariant, inputVariants)};\n\n    &:disabled {\n        color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n        border-color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n        box-shadow: none;\n        cursor: not-allowed;\n\n        &::placeholder {\n            color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n        }\n    }\n\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n        -webkit-text-fill-color: ${p => (p.inverted ? Colors.WHITE : Colors.AUTHENTIC_BLUE_900)};\n        transition: background-color 99999999ms ease 99999999ms;\n    }\n`;\n\nexport { BaseInput, InternalInputComponentProps };\n","import styled, { css } from 'styled-components';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { InternalInputComponentProps } from './BaseInput';\n\nconst ANIMATION_DURATION = 100;\n\nconst activePositionBaseStyles = css`\n    font-weight: ${get('fontWeights.semibold')};\n`;\n\nconst BaseInputLabel = styled.label.attrs({ theme })<Pick<InternalInputComponentProps, 'size'>>`\n    position: absolute;\n    pointer-events: none;\n    background-color: transparent;\n    line-height: 1.5;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    max-width: calc(100% - 2rem);\n    transition: top ${ANIMATION_DURATION}ms ease-out, left ${ANIMATION_DURATION}ms ease-out,\n        padding ${ANIMATION_DURATION}ms ease-out, font-size ${ANIMATION_DURATION}ms ease-out,\n        color ${ANIMATION_DURATION}ms ease-out, background ${ANIMATION_DURATION}ms ease-out;\n`;\n\nexport { BaseInputLabel, activePositionBaseStyles };\n","import { FC } from 'react';\nimport styled, { css } from 'styled-components';\nimport { variant } from 'styled-system';\nimport { Colors } from '../../essentials';\nimport { BaseInput, InternalInputComponentProps } from './BaseInput';\nimport { activeBoxedPosition, BoxedInputLabel } from './BoxedInputLabel';\n\nconst errorStyles = css`\n    box-shadow: inset 0 0 0 0.0625rem ${Colors.NEGATIVE_ORANGE_900};\n    border-color: ${Colors.NEGATIVE_ORANGE_900};\n\n    & ~ ${BoxedInputLabel} {\n        color: ${Colors.NEGATIVE_ORANGE_900};\n    }\n`;\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            height: '2rem',\n            padding: '0 0.5rem'\n        },\n        medium: {\n            height: '3rem',\n            padding: '0 0.75rem'\n        }\n    }\n});\n\nconst getLabelColor = ({ hasValue, inverted }: InternalInputComponentProps) => {\n    if (inverted) {\n        return Colors.AUTHENTIC_BLUE_200;\n    }\n\n    if (hasValue) {\n        return Colors.AUTHENTIC_BLUE_550;\n    }\n\n    return Colors.AUTHENTIC_BLUE_350;\n};\n\nconst BoxedInput: FC<InternalInputComponentProps> = styled(BaseInput)<InternalInputComponentProps>`\n    ${sizeVariant}\n    & + ${BoxedInputLabel} {\n        ${p => (p.hasValue || p.placeholder ? activeBoxedPosition(p.size as Pick<InternalInputComponentProps, 'size'>) : undefined)};\n        color: ${getLabelColor};\n        background: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE)};\n        background: ${p =>\n            `linear-gradient(0deg, ${p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE} calc(50% + ${\n                (p.size as Pick<InternalInputComponentProps, 'size'>) === 'small' ? '0.0825rem' : '0.0625rem'\n            }), transparent 50%)`};\n    }\n\n    ${p => (p.error ? errorStyles : undefined)}\n    &:disabled {\n        & + ${BoxedInputLabel} {\n            color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n        }\n    }\n\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n        & + ${BoxedInputLabel} {\n            ${p => activeBoxedPosition(p.size as Pick<InternalInputComponentProps, 'size'>)};\n        }\n    }\n\n    &:focus:not(:disabled) {\n        & + ${BoxedInputLabel} {\n            ${p => activeBoxedPosition(p.size as Pick<InternalInputComponentProps, 'size'>)};\n            color: ${p => (p.inverted ? Colors.WHITE : Colors.ACTION_BLUE_900)};\n            background: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE)};\n            background: ${p =>\n                `linear-gradient(0deg, ${p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE} calc(50% + ${\n                    (p.size as Pick<InternalInputComponentProps, 'size'>) === 'small' ? '0.0825rem' : '0.0625rem'\n                }), transparent 50%)`};\n        }\n    }\n`;\n\nexport { BoxedInput };\n","import styled, { css, Interpolation, ThemeProps } from 'styled-components';\nimport { variant } from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { InternalInputComponentProps } from './BaseInput';\nimport { activePositionBaseStyles, BaseInputLabel } from './BaseInputLabel';\n\nconst activeBoxedPosition = (size: Pick<InternalInputComponentProps, 'size'>): ReadonlyArray<Interpolation<ThemeProps<unknown>>> => css`\n    ${activePositionBaseStyles};\n\n    top: ${size === 'small' ? '-0.375rem' : '-0.5rem'};\n    font-size: ${size === 'small' ? '0.625rem' : get('fontSizes.0')};\n`;\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            top: '0.5rem',\n            left: '0.375rem',\n            padding: '0 0.125rem',\n            fontSize: get('fontSizes.1')\n        },\n        medium: {\n            top: '0.75rem',\n            left: '0.5rem',\n            padding: '0 0.25rem',\n            fontSize: get('fontSizes.2')\n        }\n    }\n});\n\nconst BoxedInputLabel = styled(BaseInputLabel).attrs({ theme })`\n    ${sizeVariant};\n`;\n\nexport { activeBoxedPosition, BoxedInputLabel };\n","import styled, { css, Interpolation, ThemeProps } from 'styled-components';\nimport { variant } from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { InternalInputComponentProps } from './BaseInput';\nimport { activePositionBaseStyles, BaseInputLabel } from './BaseInputLabel';\n\nconst activeBottomLinedPosition = (size?: Pick<InternalInputComponentProps, 'size'>): ReadonlyArray<Interpolation<ThemeProps<unknown>>> => css`\n    ${activePositionBaseStyles};\n    top: ${size === 'small' ? '0' : '0.25rem'};\n    font-size: ${size === 'small' ? '0.625rem' : get('fontSizes.0')};\n`;\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            top: '0.875rem',\n            padding: '0 0.125rem',\n            fontSize: get('fontSizes.1')\n        },\n        medium: {\n            top: '1.375rem',\n            padding: '0 0.25rem',\n            fontSize: get('fontSizes.2')\n        }\n    }\n});\n\nconst BottomLinedInputLabel = styled(BaseInputLabel).attrs({ theme })`\n    left: 0;\n    ${sizeVariant}\n`;\n\nexport { activeBottomLinedPosition, BottomLinedInputLabel };\n","import { FC } from 'react';\nimport styled, { css } from 'styled-components';\nimport { variant } from 'styled-system';\nimport { Colors } from '../../essentials';\nimport { BaseInput, InternalInputComponentProps } from './BaseInput';\nimport { activeBottomLinedPosition, BottomLinedInputLabel } from './BottomLinedInputLabel';\n\nconst errorStyles = css`\n    box-shadow: inset 0 -0.0625rem 0 0 ${Colors.NEGATIVE_ORANGE_900};\n    border-color: ${Colors.NEGATIVE_ORANGE_900};\n\n    & ~ ${BottomLinedInputLabel} {\n        color: ${Colors.NEGATIVE_ORANGE_900};\n    }\n`;\n\nconst sizeVariant = variant({\n    prop: 'size',\n    variants: {\n        small: {\n            height: '2.5rem',\n            padding: '1rem 0.125rem 0.375rem'\n        },\n        medium: {\n            height: '3.5rem',\n            padding: '1.625rem 0.25rem 0.625rem'\n        }\n    }\n});\n\nconst getLabelColor = ({ hasValue, inverted }: InternalInputComponentProps) => {\n    if (inverted) {\n        return Colors.AUTHENTIC_BLUE_200;\n    }\n\n    if (hasValue) {\n        return Colors.AUTHENTIC_BLUE_550;\n    }\n\n    return Colors.AUTHENTIC_BLUE_350;\n};\n\nconst BottomLinedInput: FC<InternalInputComponentProps> = styled(BaseInput)<InternalInputComponentProps>`\n    ${sizeVariant}\n    & ~ ${BottomLinedInputLabel} {\n        ${p => (p.hasValue || p.placeholder ? activeBottomLinedPosition(p.size as Pick<InternalInputComponentProps, 'size'>) : '')};\n        color: ${getLabelColor};\n        background: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE)};\n    }\n\n    ${p => (p.error ? errorStyles : undefined)}\n    &:disabled {\n        & ~ ${BottomLinedInputLabel} {\n            color: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n        }\n    }\n\n    &:-webkit-autofill,\n    &:-webkit-autofill:hover,\n    &:-webkit-autofill:focus,\n    &:-webkit-autofill:active {\n        & + ${BottomLinedInputLabel} {\n            ${p => activeBottomLinedPosition(p.size as Pick<InternalInputComponentProps, 'size'>)};\n        }\n    }\n\n    &:focus:not(:disabled) {\n        & ~ ${BottomLinedInputLabel} {\n            ${p => activeBottomLinedPosition(p.size as Pick<InternalInputComponentProps, 'size'>)};\n            color: ${p => (p.inverted ? Colors.WHITE : Colors.ACTION_BLUE_900)};\n            background: ${p => (p.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE)};\n        }\n    }\n`;\n\nexport { BottomLinedInput };\n","import styled from 'styled-components';\nimport { compose, margin, MarginProps, width, WidthProps } from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { ClassNameProps } from '../../utils/extractProps';\n\ntype InputWrapperProps = ClassNameProps & MarginProps & WidthProps;\n\nconst InputWrapper = styled.div.attrs<InputWrapperProps>({ theme })`\n    display: inline-block;\n    position: relative;\n    box-sizing: border-box;\n\n    ${compose(margin, width)}\n`;\n\nexport { InputWrapper, InputWrapperProps };\n","import { variant } from 'styled-system';\nimport styled from 'styled-components';\n\nimport { get } from '../../utils/themeGet';\nimport { InputProps } from '../Input/InputProps';\nimport { TOGGLE_MODE_BUTTON_WIDTH } from './constants';\n\nconst inputType = variant({\n    prop: 'variant',\n    variants: {\n        'bottom-lined': {\n            justifyContent: 'right'\n        }\n    }\n});\n\nconst ToggleButton = styled.button<Pick<InputProps, 'size' | 'variant'>>`\n    box-sizing: border-box;\n    position: absolute;\n    background: transparent;\n    border-radius: ${get('radii.2')};\n    border: none;\n    cursor: pointer;\n    display: inline-flex;\n    justify-content: center;\n    text-align: center;\n    text-decoration: none;\n    height: 100%;\n    width: ${TOGGLE_MODE_BUTTON_WIDTH};\n    right: 0;\n    align-items: ${p => (p.size === 'small' || p.variant === 'bottom-lined' ? 'flex-end' : 'center')};\n    padding-bottom: ${p => {\n        if (p.size === 'small') return '0.25rem';\n\n        return p.variant === 'bottom-lined' ? '0.5rem' : 0;\n    }};\n    ${inputType};\n\n    svg path {\n        fill: var(--color);\n    }\n\n    &:hover svg path {\n        fill: var(--hover-color);\n    }\n`;\n\nexport { ToggleButton };\n","export const TOGGLE_MODE_BUTTON_WIDTH = '2.5rem';\n","import React, { forwardRef, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { compose, MarginProps, margin, width, WidthProps } from 'styled-system';\nimport { EyeOpenIcon, EyeClosedIcon } from '../../icons';\nimport { InnerInput as Input } from '../Input/InnerInput';\nimport { InputProps } from '../Input/InputProps';\nimport { InputWrapperProps } from '../Input/InputWrapper';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { Colors } from '../../essentials/Colors/Colors';\nimport { useGeneratedId } from '../../utils/hooks/useGeneratedId';\nimport { ToggleButton } from './ToggleButton';\nimport { TOGGLE_MODE_BUTTON_WIDTH } from './constants';\nimport { extractWidthProps, extractWrapperMarginProps } from '../../utils/extractProps';\n\ntype WrapperProps = MarginProps & WidthProps;\nconst PasswordWrapper = styled.div<WrapperProps>`\n    display: inline-block;\n    position: relative;\n    box-sizing: border-box;\n\n    ${compose(margin, width)}\n\n    input {\n        /* avoid text under the toggle mode button */\n        padding-right: ${TOGGLE_MODE_BUTTON_WIDTH};\n    }\n`;\n\nexport interface PasswordProps extends InputWrapperProps, InputProps {\n    /**\n     * Sets the purpose of the password input element\n     */\n    purpose?: 'login' | 'new-password';\n    /**\n     * If you project supports multiple languages it is recommended to pass translated labels to these properties\n     */\n    ariaStrings?: {\n        showPasswordButton?: string;\n        hidePasswordButton?: string;\n        messagePasswordIsHidden?: string;\n        messagePasswordIsShown?: string;\n    };\n}\n\nconst defaultAriaStrings = {\n    showPasswordButton: 'Show password',\n    hidePasswordButton: 'Hide password',\n    messagePasswordIsHidden: 'Your password is hidden',\n    messagePasswordIsShown: 'Your password is shown'\n};\n\nconst iconColors = {\n    regular: { color: Colors.AUTHENTIC_BLUE_550, hover: Colors.AUTHENTIC_BLUE_900 },\n    inverted: { color: Colors.AUTHENTIC_BLUE_200, hover: Colors.AUTHENTIC_BLUE_50 }\n};\n\nconst Password = forwardRef<HTMLDivElement, PasswordProps>(\n    (\n        {\n            purpose = 'login',\n            id,\n            disabled,\n            size = 'medium',\n            variant = 'boxed',\n            inverted,\n            ariaStrings = {},\n            ...rest\n        }: PasswordProps,\n        ref\n    ) => {\n        const [isHidden, setIsHidden] = useState<boolean>(true);\n        const aria = {\n            ...defaultAriaStrings,\n            ...ariaStrings\n        };\n        const { color, hover } = iconColors[inverted ? 'inverted' : 'regular'];\n        const inputId = useGeneratedId(id);\n        const { marginProps, restProps: withoutMargin } = extractWrapperMarginProps(rest);\n        const { widthProps, restProps } = extractWidthProps(withoutMargin);\n\n        return (\n            <PasswordWrapper {...widthProps} {...marginProps}>\n                <Input\n                    {...restProps}\n                    width=\"100%\"\n                    id={inputId}\n                    size={size}\n                    variant={variant}\n                    inverted={inverted}\n                    disabled={disabled}\n                    ref={ref}\n                    type={isHidden ? 'password' : 'text'}\n                    autoComplete={purpose === 'new-password' ? 'new-password' : 'off'}\n                />\n                {!disabled ? (\n                    <>\n                        <ToggleButton\n                            size={size}\n                            variant={variant}\n                            type=\"button\"\n                            onClick={() => {\n                                setIsHidden(prevValue => !prevValue);\n                            }}\n                            aria-controls={inputId}\n                            aria-label={isHidden ? aria.showPasswordButton : aria.hidePasswordButton}\n                            style={{\n                                // https://github.com/frenic/csstype#what-should-i-do-when-i-get-type-errors\n                                ['--color' as never]: color,\n                                ['--hover-color' as never]: hover\n                            }}\n                        >\n                            {isHidden ? <EyeOpenIcon /> : <EyeClosedIcon />}\n                        </ToggleButton>\n                        <VisuallyHidden as=\"span\" aria-live=\"polite\">\n                            {isHidden ? aria.messagePasswordIsHidden : aria.messagePasswordIsShown}\n                        </VisuallyHidden>\n                    </>\n                ) : undefined}\n            </PasswordWrapper>\n        );\n    }\n);\n\nexport { Password };\n","import { FC } from 'react';\nimport * as React from 'react';\n\nimport styled from 'styled-components';\nimport { Colors, Elevation } from '../../essentials';\nimport { CloseIcon, MagnifyingGlassIcon } from '../../icons/index';\nimport { useControlledState } from '../../utils/hooks/useControlledState';\nimport { Box, BoxProps } from '../Box/Box';\n\nimport { Input } from '../Input/Input';\n\nconst ActiveStyle = `\n    background-color: ${Colors.ACTION_BLUE_50};\n    color: ${Colors.ACTION_BLUE_900};\n`;\n\ninterface SearchResultsContainerProps extends BoxProps, Pick<SearchProps, 'inverted'> {}\n\nconst SearchResultsContainer = styled(Box)<SearchResultsContainerProps>`\n    position: absolute;\n    z-index: ${Elevation.SUGGESTIONS_LIST};\n    margin-top: 0.0625rem;\n    padding: 0.25rem 0;\n    width: inherit;\n    background-color: ${props => (props.inverted ? Colors.AUTHENTIC_BLUE_900 : Colors.WHITE)};\n    box-shadow: 0 0.125rem 0.5rem 0.0625rem ${Colors.AUTHENTIC_BLUE_200};\n    border-radius: 0.25rem;\n    cursor: pointer;\n`;\n\nconst ActiveBox = styled(Box)`\n    &[aria-selected='true'] > div {\n        ${ActiveStyle}\n    }\n`;\n\ninterface SearchInputContainerProps extends BoxProps {\n    isInFocus: boolean;\n}\n\nconst SearchInputContainer = styled(Box)<SearchInputContainerProps>`\n    box-sizing: border-box;\n    background: white;\n    border-radius: 0.25rem;\n    border: ${p =>\n        p.isInFocus ? `0.0625rem solid ${Colors.ACTION_BLUE_900}` : `0.0625rem solid ${Colors.AUTHENTIC_BLUE_200}`};\n    box-shadow: ${p => (p.isInFocus ? `inset 0 0 0 0.0625rem ${Colors.ACTION_BLUE_900}` : 'none')};\n    height: ${p => (p.size === 'small' ? '2.2rem' : '3.2rem')};\n    transition: box-shadow 100ms ease, border 100ms ease;\n`;\n\nconst StyledInput = styled(Input)`\n    width: 100%;\n\n    input {\n        caret-color: ${Colors.ACTION_BLUE_900};\n        background: transparent;\n        border: 0;\n\n        &:focus,\n        &:active {\n            outline: 0;\n            border: 0;\n            box-shadow: unset;\n        }\n\n        text-overflow: ellipsis;\n\n        ::-webkit-search-cancel-button {\n            display: none;\n        }\n\n        &::placeholder {\n            color: ${p => (!p.disabled ? Colors.AUTHENTIC_BLUE_550 : Colors.AUTHENTIC_BLUE_200)};\n            opacity: 1;\n        }\n    }\n`;\n\nexport interface SearchProps {\n    results?: React.ReactNode[];\n    /**\n     * Sets the value\n     */\n    value?: string;\n    /**\n     * Function to set the value\n     */\n    setValue?: (value: string) => void;\n    /**\n     * show results dropdown\n     */\n    showResults?: boolean;\n    /**\n     * Function to show and hide the dropdown\n     */\n    setShowResults?: (value: boolean) => void;\n    /**\n     * Sets the width of the search box\n     */\n    width?: string;\n    /**\n     * Sets the placeholder text to be shown\n     */\n    placeholder?: string;\n    /**\n     * Determines whether the search box is disabled\n     */\n    disabled?: boolean;\n    /**\n     * Determines whether the search box has an inverted color scheme\n     */\n    inverted?: boolean;\n    /**\n     * Determines the size of the search box\n     */\n    size?: 'small' | 'medium';\n    /**\n     * This function is called when the \"Enter\" key is pressed or the search icon is clicked\n     */\n    onEnter?: (value: string) => void;\n    /**\n     * This function is called when the selection is changed. It emits the selected index\n     */\n    onChangeSelection?: (index: number) => void;\n    /**\n     * This function is called when the value in the search box changes\n     */\n    onInputChange?: (value: string) => void;\n    /**\n     * This function is called when the search box is cleared\n     */\n    onClear?: () => void;\n}\n\nconst prefix = 'result-item';\n\nexport const Search: FC<SearchProps> = ({\n    results = [],\n    value: propsValue,\n    setValue: setPropsValue,\n    showResults: propsShowResults,\n    setShowResults: setPropsShowResults,\n    width,\n    placeholder = 'Search...',\n    disabled,\n    inverted,\n    size,\n    onInputChange,\n    onClear,\n    onEnter,\n    onChangeSelection\n}: SearchProps) => {\n    const containerRef = React.useRef<HTMLDivElement>(null);\n\n    const [isInFocus, setIsInFocus] = React.useState<boolean>(false);\n\n    const [activeIndex, setActiveIndex] = React.useState<number>(0);\n\n    const [value, setValue] = useControlledState<string>([propsValue, setPropsValue], '');\n\n    const [showResults, setShowResults] = useControlledState<boolean>([propsShowResults, setPropsShowResults], false);\n\n    // this is to keep track of keypress events (up, down, enter, escape)\n    React.useEffect(() => {\n        // we're trying to calculate how many search result options will be rendered, to enable moving up and down through them\n        // if we specify customResultLength, that will be taken.\n        // if not, we'll check if children is an array, and if so take its length\n        // if not just assume there is only one child\n        const elementLength: number = Array.isArray(results) ? results.length : 1;\n\n        // emits onChangeSelection on ArrowDown and ArrowUp, onEnter on Enter, onBlur on Escape\n        const emitKeyEvent = ({ key }: KeyboardEvent) => {\n            if (!isInFocus) return;\n            switch (key) {\n                case 'ArrowUp': {\n                    const index = activeIndex > 0 ? (activeIndex - 1) % elementLength : elementLength - 1;\n                    setActiveIndex(index);\n                    onChangeSelection?.(index);\n                    break;\n                }\n\n                case 'ArrowDown': {\n                    const index = (activeIndex + 1) % elementLength;\n                    setActiveIndex(index);\n                    onChangeSelection?.(index);\n                    break;\n                }\n\n                case 'Enter': {\n                    const el = document.querySelector(`#${prefix}-${activeIndex}`);\n                    (el?.children[0] as HTMLElement)?.click();\n                    onEnter?.(value);\n                    break;\n                }\n\n                case 'Escape':\n                    setShowResults(false);\n                    break;\n\n                default:\n                    break;\n            }\n        };\n        document.addEventListener('keydown', emitKeyEvent);\n        return () => {\n            document.removeEventListener('keydown', emitKeyEvent);\n        };\n    }, [isInFocus, activeIndex, setActiveIndex, onChangeSelection, onEnter, value, propsValue, results]);\n\n    // this is to keep track of clicks outside the component (useful to close the search results)\n    React.useEffect(() => {\n        // eslint-disable-next-line unicorn/consistent-function-scoping\n        const emitIfClickingOutsideSearch = (event: DocumentEventMap['click']) => {\n            if (disabled) return;\n            if (!containerRef.current.contains(event.target as Element)) {\n                setShowResults(false);\n            } else {\n                setShowResults(true);\n            }\n        };\n        document.addEventListener('click', emitIfClickingOutsideSearch);\n        return () => {\n            document.removeEventListener('click', emitIfClickingOutsideSearch);\n        };\n    }, [showResults, setShowResults, disabled]);\n\n    const handleChangeValue = (event: React.ChangeEvent<HTMLInputElement>) => {\n        setShowResults(true);\n        const searchText: string = event.target.value;\n        setValue?.(searchText);\n        onInputChange?.(searchText);\n    };\n\n    return (\n        // this is a div to make attaching the ref a walk in the park :)\n        <div\n            ref={containerRef}\n            // give it the width passed down to it\n            style={{\n                width\n            }}\n            role=\"search\"\n        >\n            <SearchInputContainer\n                isInFocus={isInFocus}\n                display=\"flex\"\n                flexDirection=\"row\"\n                alignItems=\"center\"\n                width=\"100%\"\n                size={size}\n            >\n                <Box\n                    // passing styled-system props gives \"No overload matches this call\" lint error.\n                    style={{\n                        display: 'flex',\n                        margin: size === 'small' ? '0.5rem' : '1rem',\n                        marginRight: 'auto'\n                    }}\n                    onClick={() => !disabled && onEnter?.(value)}\n                >\n                    <MagnifyingGlassIcon\n                        size={size === 'small' ? 20 : 24}\n                        aria-hidden=\"true\"\n                        color={!disabled ? Colors.AUTHENTIC_BLUE_350 : Colors.AUTHENTIC_BLUE_200}\n                    />\n                </Box>\n\n                <StyledInput\n                    size={size}\n                    type=\"search\"\n                    inverted={inverted}\n                    disabled={disabled}\n                    aria-label={placeholder}\n                    autoComplete=\"off\"\n                    placeholder={placeholder}\n                    value={value}\n                    onChange={handleChangeValue}\n                    onFocus={() => setIsInFocus(true)}\n                    onBlur={() => setIsInFocus(false)}\n                />\n\n                {!value ? undefined : (\n                    <Box\n                        aria-label=\"clear-search\"\n                        style={{ margin: '1rem', marginLeft: 'auto', cursor: 'pointer', display: 'flex' }}\n                        onClick={() => {\n                            setValue?.('');\n                            onClear?.();\n                        }}\n                        role=\"button\"\n                    >\n                        <CloseIcon aria-hidden=\"true\" color={Colors.AUTHENTIC_BLUE_550} />\n                    </Box>\n                )}\n            </SearchInputContainer>\n\n            {showResults && results.length > 0 && (\n                <SearchResultsContainer inverted={inverted} role=\"listbox\">\n                    {results.map((result, index) => (\n                        <ActiveBox\n                            role=\"option\"\n                            id={`${prefix}-${index}`}\n                            key={\n                                // eslint-disable-next-line react/no-array-index-key\n                                index\n                            }\n                            onMouseEnter={() => setActiveIndex(index)}\n                            onMouseMove={() => setActiveIndex(index)}\n                            aria-selected={activeIndex === index}\n                        >\n                            {result}\n                        </ActiveBox>\n                    ))}\n                </SearchResultsContainer>\n            )}\n        </div>\n    );\n};\n","import { ComponentPropsWithoutRef } from 'react';\nimport styled from 'styled-components';\nimport {\n    compose,\n    fontFamily,\n    FontFamilyProps,\n    fontSize,\n    FontSizeProps,\n    fontWeight,\n    margin,\n    MarginProps,\n    ResponsiveValue,\n    textAlign,\n    TextAlignProps\n} from 'styled-system';\nimport { theme } from '../../essentials/theme';\nimport { get } from '../../utils/themeGet';\nimport { deprecatedProperty } from '../../utils/deprecatedProperty';\n\ninterface TextProps\n    extends ComponentPropsWithoutRef<'span'>,\n        MarginProps,\n        FontSizeProps,\n        FontFamilyProps,\n        TextAlignProps {\n    /**\n     * The font-weight property specifies the weight (or boldness) of the font.\n     */\n    fontWeight?: ResponsiveValue<'normal' | 'semibold' | 'bold'>;\n    /**\n     * Adjust color for display on a dark background\n     */\n    inverted?: boolean;\n    /**\n     * Adjust color to indicate secondary information\n     * @deprecated use `secondary` instead\n     */\n    weak?: boolean;\n    /**\n     * Adjust color to indicate secondary information\n     */\n    secondary?: boolean;\n    /**\n     * Adjust color to display a disabled text element\n     */\n    disabled?: boolean;\n}\n\nfunction determineTextColor(props: TextProps) {\n    const { weak, secondary, inverted, disabled } = props;\n    if (weak !== undefined) {\n        deprecatedProperty('Text', weak, 'weak', 'secondary', 'Rename `weak` to `secondary` to remove the warning.');\n    }\n\n    if (disabled) {\n        return get(inverted ? 'semanticColors.text.disabledInverted' : 'semanticColors.text.disabled')(props);\n    }\n\n    if (secondary || weak) {\n        return get(inverted ? 'semanticColors.text.secondaryInverted' : 'semanticColors.text.secondary')(props);\n    }\n\n    if (inverted) {\n        return get('semanticColors.text.primaryInverted')(props);\n    }\n\n    return get('semanticColors.text.primary')(props);\n}\n\nconst Text = styled.span.attrs({ theme })<TextProps>`\n    color: ${determineTextColor};\n    font-size: ${get('fontSizes.2')};\n    font-family: ${get('fonts.normal')};\n    line-height: 1.4;\n    margin: 0;\n\n    ${compose(margin, fontSize, fontWeight, fontFamily, textAlign)}\n`;\n\nexport { Text, TextProps };\n"],"names":[],"sourceRoot":""}